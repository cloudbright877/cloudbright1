тяжело будет улучшить чтобы были пики провалы? Например намеренный скрипт20:10Нет, несложно. По сути нужен один массив — "сценарий дня", который заранее рисует кривую P&L, а трейды подстраиваются под неё.
Примерно так:
typescript// Генерируем кривую дня при reset
function generateDailyCurve(target: number): number[] {
  // Ключевые точки (5-8 штук)
  const keypoints = [
    0,            // старт
    target * 0.6, // утренний рост
    target * 0.2, // просадка
    target * 0.9, // восстановление
    target * 0.5, // ещё просадка
    target        // финиш
  ];
  
  // Интерполируем на 250 трейдов
  return interpolate(keypoints, 250);
}
Каждый трейд смотрит: "где я должен быть на кривой" и подбирает свой P&L чтобы cumulative P&L шёл по этой линии. Трейд №80 может быть -0.15% (просадка на графике), трейд №81 уже +0.08%.
Это по сути заменяет вашу текущую логику "каждый трейд +0.01%" на "каждый трейд = delta между точками кривой". Финальная сумма та же, но путь к ней с горками.
Можно сделать несколько шаблонов кривых (утренний памп, обеденный дип, вечерний rally) и выбирать случайно. Добавить шум ±20% к каждой точке кривой — и каждый день уникальный.
По объёму работы — это один файл на 100-150 строк, встраивается в ConvergenceController вместо линейного progress tracking. День работы максимум.